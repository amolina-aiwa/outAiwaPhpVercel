(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{9858:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/adminPanel",function(){return a(8299)}])},8299:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return AdminPanel}});var t=a(5893),c=a(7294),n=a(7066),o=a(8658),r=a(5005),l=a(1676),i=a(1163),ShowProducts=()=>{let e=(0,i.useRouter)(),[s,a]=(0,c.useState)(!1),[d,u]=(0,c.useState)(""),[h,x]=(0,c.useState)([]),[m,p]=(0,c.useState)([]),[j,N]=(0,c.useState)("audio"),[f,w]=(0,c.useState)("https://www.aiwaelectronics.com.ar/audio"),v=(0,c.useCallback)(async()=>{try{let e=await n.Z.get(f);x(e.data)}catch(e){console.error("Error fetching ".concat(j,":"),e)}},[f,j]);(0,c.useEffect)(()=>{w("https://www.aiwaelectronics.com.ar/".concat(j))},[j]),(0,c.useEffect)(()=>{v()},[f,v]),(0,c.useEffect)(()=>{let e=h.filter(e=>e.name.toLowerCase().includes(d.toLowerCase())||e.sku.toLowerCase().includes(d.toLowerCase()));p(e)},[d,h]);let deleteProduct=async e=>{let s=window.confirm("\xbfEst\xe1s seguro de que quieres eliminar este producto?");if(s)try{await n.Z.delete("".concat(f,"/").concat(e)),v()}catch(e){console.error("Error deleting ".concat(j,":"),e)}},goToEditPage=s=>{e.push("/editProduct/".concat(s,"?category=").concat(j))};return(0,t.jsxs)("div",{className:"mt-4 p-5 bg-primary text-white rounded center",children:[s&&(0,t.jsx)(o.Z,{message:"El producto ya existe. Por favor, elija un nombre de producto \xfanico.",onClose:()=>a(!1)}),(0,t.jsxs)("div",{className:"app-container",children:[(0,t.jsxs)("div",{className:"sidebar",children:[(0,t.jsxs)("ul",{className:"sidebar-list",children:[(0,t.jsx)("li",{className:"sidebar-list-item active",children:(0,t.jsx)("a",{href:"#",children:(0,t.jsx)("span",{children:"Productos"})})}),(0,t.jsx)("li",{children:(0,t.jsx)(l.Z,{children:(0,t.jsx)(l.Z.Group,{className:"mb-3",children:(0,t.jsx)(l.Z.Control,{className:"form-title",style:{color:"black"},type:"text",placeholder:"Buscar por Nombre o SKU",value:d,onChange:e=>u(e.target.value)})})})}),(0,t.jsx)("li",{children:(0,t.jsx)(l.Z,{children:(0,t.jsxs)(l.Z.Group,{className:"nice-form-group",children:[(0,t.jsx)(l.Z.Label,{children:"Categor\xeda"}),(0,t.jsxs)(l.Z.Control,{as:"select",onChange:e=>N(e.target.value),children:[(0,t.jsx)("option",{value:"audio",children:"Audio"}),(0,t.jsx)("option",{value:"headsets",children:"Headsets"}),(0,t.jsx)("option",{value:"tablets",children:"Tablets"}),(0,t.jsx)("option",{value:"cooks",children:"Cooks"}),(0,t.jsx)("option",{value:"notebooks",children:"Notebooks"}),(0,t.jsx)("option",{value:"discontinuos",children:"Discontinuos"})]})]})})})]}),(0,t.jsx)("div",{className:"account-info",children:(0,t.jsx)("button",{className:"account-info-more"})})]}),(0,t.jsxs)("div",{className:"app-content",children:[(0,t.jsxs)("div",{className:"app-content-header",children:[(0,t.jsxs)("h1",{className:"app-content-headerText",children:["Productos - ",j.charAt(0).toUpperCase()+j.slice(1)]}),(0,t.jsx)("button",{className:"app-content-headerButton",onClick:()=>{e.push("/newProduct")},children:"A\xf1adir Producto"})]}),(0,t.jsx)("div",{className:"app-content-actions"}),(0,t.jsxs)("div",{className:"products-area-wrapper tableView",children:[(0,t.jsxs)("div",{className:"products-header",children:[(0,t.jsx)("div",{className:"product-cell status-cell",children:"Sku"}),(0,t.jsx)("div",{className:"product-cell image",children:"Productos"})]}),m.map(e=>(0,t.jsxs)("div",{className:"products-row",children:[(0,t.jsxs)("div",{className:"product-cell status-cell",children:[(0,t.jsx)("span",{className:"cell-label",children:"Sku:"}),(0,t.jsx)("span",{className:"status ".concat(e.status?e.status.toLowerCase():""),children:e.sku})]}),(0,t.jsxs)("div",{className:"product-cell name",children:[e.imgs&&e.imgs.length>0?(0,t.jsx)("img",{src:e.imgs[0],alt:"Product"}):null,e.name]}),(0,t.jsxs)("div",{className:"card-footer",children:[(0,t.jsx)(r.Z,{style:{marginRight:"10px"},className:"app-content-headerButton",onClick:()=>goToEditPage(e.id),children:"Editar"}),(0,t.jsx)(r.Z,{className:"app-content-headerButton",onClick:()=>deleteProduct(e.id),children:"Eliminar"})]})]},e.id))]})]})]})]})},d=a(9008),u=a.n(d);function AdminPanel(){return(0,i.useRouter)(),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u(),{children:(0,t.jsx)("title",{children:"Panel de Administraci\xf3n"})}),(0,t.jsx)(ShowProducts,{})]})}}},function(e){e.O(0,[662,66,495,658,774,888,179],function(){return e(e.s=9858)}),_N_E=e.O()}]);