(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{9858:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/adminPanel",function(){return t(8299)}])},8299:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return AdminPanel}});var a=t(5893),c=t(7294),o=t(7066),n=t(8658),l=t(5005),r=t(1676),i=t(1163),ShowProducts=()=>{let e=(0,i.useRouter)(),[s,t]=(0,c.useState)(!1),[d,u]=(0,c.useState)(""),[h,x]=(0,c.useState)([]),[p,m]=(0,c.useState)([]),[j,N]=(0,c.useState)("audio"),[f,v]=(0,c.useState)("http://localhost:8000/audio"),g=(0,c.useCallback)(async()=>{try{let e=await o.Z.get(f);x(e.data)}catch(e){console.error("Error fetching ".concat(j,":"),e)}},[f,j]);(0,c.useEffect)(()=>{v("http://localhost:8000/".concat(j))},[j]),(0,c.useEffect)(()=>{g()},[f,g]),(0,c.useEffect)(()=>{let e=h.filter(e=>e.name.toLowerCase().includes(d.toLowerCase())||e.sku.toLowerCase().includes(d.toLowerCase()));m(e)},[d,h]);let deleteProduct=async e=>{let s=window.confirm("\xbfEst\xe1s seguro de que quieres eliminar este producto?");if(s)try{await o.Z.delete("".concat(f,"/").concat(e)),g()}catch(e){console.error("Error deleting ".concat(j,":"),e)}},goToEditPage=s=>{e.push("/editProduct/".concat(s,"?category=").concat(j))};return(0,a.jsxs)("div",{className:"mt-4 p-5 bg-primary text-white rounded center",children:[s&&(0,a.jsx)(n.Z,{message:"El producto ya existe. Por favor, elija un nombre de producto \xfanico.",onClose:()=>t(!1)}),(0,a.jsxs)("div",{className:"app-container",children:[(0,a.jsxs)("div",{className:"sidebar",children:[(0,a.jsxs)("ul",{className:"sidebar-list",children:[(0,a.jsx)("li",{className:"sidebar-list-item active",children:(0,a.jsx)("a",{href:"#",children:(0,a.jsx)("span",{children:"Productos"})})}),(0,a.jsx)("li",{children:(0,a.jsx)(r.Z,{children:(0,a.jsx)(r.Z.Group,{className:"mb-3",children:(0,a.jsx)(r.Z.Control,{className:"form-title",style:{color:"black"},type:"text",placeholder:"Buscar por Nombre o SKU",value:d,onChange:e=>u(e.target.value)})})})}),(0,a.jsx)("li",{children:(0,a.jsx)(r.Z,{children:(0,a.jsxs)(r.Z.Group,{className:"nice-form-group",children:[(0,a.jsx)(r.Z.Label,{children:"Categor\xeda"}),(0,a.jsxs)(r.Z.Control,{as:"select",onChange:e=>N(e.target.value),children:[(0,a.jsx)("option",{value:"audio",children:"Audio"}),(0,a.jsx)("option",{value:"headsets",children:"Headsets"}),(0,a.jsx)("option",{value:"tablets",children:"Tablets"}),(0,a.jsx)("option",{value:"cooks",children:"Cooks"}),(0,a.jsx)("option",{value:"notebooks",children:"Notebooks"}),(0,a.jsx)("option",{value:"discontinuos",children:"Discontinuos"})]})]})})})]}),(0,a.jsx)("div",{className:"account-info",children:(0,a.jsx)("button",{className:"account-info-more"})})]}),(0,a.jsxs)("div",{className:"app-content",children:[(0,a.jsxs)("div",{className:"app-content-header",children:[(0,a.jsxs)("h1",{className:"app-content-headerText",children:["Productos - ",j.charAt(0).toUpperCase()+j.slice(1)]}),(0,a.jsx)("button",{className:"app-content-headerButton",onClick:()=>{e.push("/newProduct")},children:"A\xf1adir Producto"})]}),(0,a.jsx)("div",{className:"app-content-actions"}),(0,a.jsxs)("div",{className:"products-area-wrapper tableView",children:[(0,a.jsxs)("div",{className:"products-header",children:[(0,a.jsx)("div",{className:"product-cell status-cell",children:"Sku"}),(0,a.jsx)("div",{className:"product-cell image",children:"Productos"})]}),p.map(e=>(0,a.jsxs)("div",{className:"products-row",children:[(0,a.jsxs)("div",{className:"product-cell status-cell",children:[(0,a.jsx)("span",{className:"cell-label",children:"Sku:"}),(0,a.jsx)("span",{className:"status ".concat(e.status?e.status.toLowerCase():""),children:e.sku})]}),(0,a.jsxs)("div",{className:"product-cell name",children:[e.imgs&&e.imgs.length>0?(0,a.jsx)("img",{src:e.imgs[0],alt:"Product"}):null,e.name]}),(0,a.jsxs)("div",{className:"card-footer",children:[(0,a.jsx)(l.Z,{style:{marginRight:"10px"},className:"app-content-headerButton",onClick:()=>goToEditPage(e.id),children:"Editar"}),(0,a.jsx)(l.Z,{className:"app-content-headerButton",onClick:()=>deleteProduct(e.id),children:"Eliminar"})]})]},e.id))]})]})]})]})},d=t(9008),u=t.n(d);function AdminPanel(){return(0,i.useRouter)(),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u(),{children:(0,a.jsx)("title",{children:"Panel de Administraci\xf3n"})}),(0,a.jsx)(ShowProducts,{})]})}}},function(e){e.O(0,[662,66,495,658,774,888,179],function(){return e(e.s=9858)}),_N_E=e.O()}]);