(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{9858:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/adminPanel",function(){return s(8299)}])},8299:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return AdminPanel}});var t=s(5893),n=s(7294),r=s(5121),l=s(8658),c=s(5005),i=s(1676),o=s(1163);s(8494);var ShowProducts=()=>{let e=(0,o.useRouter)(),[a,s]=(0,n.useState)(!1),[d,u]=(0,n.useState)(""),[h,p]=(0,n.useState)([]),[x,m]=(0,n.useState)([]),[g,j]=(0,n.useState)("audio"),[w,v]=(0,n.useState)("https://www.aiwaelectronics.com.ar/audio.php"),[N,f]=(0,n.useState)("products"),[b,C]=(0,n.useState)([]),[Z,k]=(0,n.useState)({img:"",mobileImg:"",link:"",alt:"",text:""}),[E,y]=(0,n.useState)(null),[P,B]=(0,n.useState)({img:"",mobileImg:"",link:"",alt:"",text:""}),S=(0,n.useCallback)(async()=>{try{let e=await r.Z.get(w);p(e.data)}catch(e){console.error("Error fetching ".concat(g,":"),e)}},[w,g]);(0,n.useEffect)(()=>{v("https://www.aiwaelectronics.com.ar/".concat(g,".php"))},[g]),(0,n.useEffect)(()=>{S()},[w,S]),(0,n.useEffect)(()=>{let e=h.filter(e=>e.name.toLowerCase().includes(d.toLowerCase())||e.sku.toLowerCase().includes(d.toLowerCase()));m(e)},[d,h]);let deleteProduct=async e=>{let a=window.confirm("\xbfEst\xe1s seguro de que quieres eliminar este producto?");if(a)try{await r.Z.delete(w,{data:{id:e}}),S()}catch(e){console.error("Error deleting ".concat(g,":"),e)}},goToEditPage=a=>{e.push("/editProduct/".concat(a,"?category=").concat(g))},L=(0,n.useCallback)(async()=>{try{let e=await r.Z.get("https://www.aiwaelectronics.com.ar/mainBanner.php");C(e.data)}catch(e){console.error("Error fetching banners:",e)}},[]);(0,n.useEffect)(()=>{"pageDesign"===N&&L()},[N,L]);let handleBannerSave=async()=>{try{E?await r.Z.put("https://www.aiwaelectronics.com.ar/mainBanner.php",Z):await r.Z.post("https://www.aiwaelectronics.com.ar/mainBanner.php",Z),k({img:"",mobileImg:"",link:"",alt:"",text:""}),y(null),L()}catch(e){console.error("Error saving banner:",e)}},handleEditBanner=e=>{k(e),y(e.id)},handleDeleteBanner=async e=>{let a=window.confirm("\xbfEst\xe1s seguro de que quieres eliminar este banner?");if(a)try{await r.Z.delete("https://www.aiwaelectronics.com.ar/mainBanner.php",{data:{id:e}}),L()}catch(e){console.error("Error deleting banner:",e)}};return(0,t.jsxs)("div",{className:"mt-4 p-5 bg-primary text-white rounded center",children:[a&&(0,t.jsx)(l.Z,{variant:"danger",dismissible:!0,onClose:()=>s(!1),children:"El producto ya existe. Por favor, elija un nombre de producto \xfanico."}),(0,t.jsxs)("div",{className:"app-container",children:[(0,t.jsxs)("div",{className:"sidebar",children:[(0,t.jsxs)("ul",{className:"sidebar-list",children:[(0,t.jsx)("li",{className:"sidebar-list-item ".concat("products"===N?"active":""),onClick:()=>f("products"),children:(0,t.jsx)("a",{href:"#",children:(0,t.jsx)("span",{children:"Productos"})})}),(0,t.jsx)("li",{className:"sidebar-list-item ".concat("pageDesign"===N?"active":""),onClick:()=>f("pageDesign"),children:(0,t.jsx)("a",{href:"#",children:(0,t.jsx)("span",{children:"Dise\xf1o de p\xe1gina"})})}),"products"===N&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("li",{children:(0,t.jsx)(i.Z,{children:(0,t.jsx)(i.Z.Group,{className:"mb-3",children:(0,t.jsx)(i.Z.Control,{className:"form-title",style:{color:"black"},type:"text",placeholder:"Buscar por Nombre o SKU",value:d,onChange:e=>u(e.target.value)})})})}),(0,t.jsx)("li",{children:(0,t.jsx)(i.Z,{children:(0,t.jsxs)(i.Z.Group,{className:"nice-form-group",children:[(0,t.jsx)(i.Z.Label,{children:"Categor\xeda"}),(0,t.jsxs)(i.Z.Control,{as:"select",onChange:e=>j(e.target.value),children:[(0,t.jsx)("option",{value:"audio",children:"Audio"}),(0,t.jsx)("option",{value:"headsets",children:"Headsets"}),(0,t.jsx)("option",{value:"tablets",children:"Tablets"}),(0,t.jsx)("option",{value:"cooks",children:"Cooks"}),(0,t.jsx)("option",{value:"notebooks",children:"Notebooks"}),(0,t.jsx)("option",{value:"discontinuos",children:"Discontinuos"})]})]})})})]})]}),(0,t.jsx)("div",{className:"account-info",children:(0,t.jsx)("button",{className:"account-info-more"})})]}),(0,t.jsxs)("div",{className:"app-content",children:[(0,t.jsx)("div",{className:"app-content-header",children:"products"===N?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("h1",{className:"app-content-headerText",children:["Productos - ",g.charAt(0).toUpperCase()+g.slice(1)]}),(0,t.jsx)("button",{className:"app-content-headerButton",onClick:()=>{e.push("/newProduct")},children:"A\xf1adir Producto"})]}):(0,t.jsx)("h1",{className:"app-content-headerText",children:"Dise\xf1o de P\xe1gina"})}),"products"===N&&(0,t.jsxs)("div",{className:"products-area-wrapper tableView",children:[(0,t.jsxs)("div",{className:"products-header",children:[(0,t.jsx)("div",{className:"product-cell image",children:"Imagen"}),(0,t.jsx)("div",{className:"product-cell status-cell",children:"Sku"}),(0,t.jsx)("div",{className:"product-cell name",children:"Productos"})]}),x.map(e=>{let a="";try{let s=JSON.parse(e.img_url);Array.isArray(s)&&s.length>0&&(a=s[0])}catch(e){console.error("Error parsing image URL:",e)}return(0,t.jsxs)("div",{className:"products-row",children:[(0,t.jsx)("div",{className:"product-cell image",children:a?(0,t.jsx)("img",{src:a,alt:"Product",style:{width:"60px",height:"60px",objectFit:"cover",borderRadius:"5px",backgroundColor:"aqua"}}):(0,t.jsx)("span",{children:"No Image"})}),(0,t.jsxs)("div",{className:"product-cell status-cell",children:[(0,t.jsx)("span",{className:"cell-label",children:"Sku:"}),(0,t.jsx)("span",{className:"status ".concat(e.status?e.status.toLowerCase():""),children:e.sku})]}),(0,t.jsx)("div",{className:"product-cell name",children:e.name}),(0,t.jsxs)("div",{className:"card-footer",children:[(0,t.jsx)(c.Z,{style:{marginRight:"10px"},className:"app-content-headerButton",onClick:()=>goToEditPage(e.id),children:"Editar"}),(0,t.jsx)(c.Z,{className:"app-content-headerButton",onClick:()=>deleteProduct(e.id),children:"Eliminar"})]})]},e.id)})]}),"pageDesign"===N&&(0,t.jsxs)("div",{className:"page-design-panel",children:[(0,t.jsxs)(i.Z,{children:[(0,t.jsxs)(i.Z.Group,{className:"nice-form-group",children:[(0,t.jsx)(i.Z.Label,{children:"Imagen"}),(0,t.jsx)(i.Z.Control,{type:"text",placeholder:"URL de la imagen",value:Z.img,onChange:e=>k({...Z,img:e.target.value})})]}),(0,t.jsxs)(i.Z.Group,{className:"nice-form-group",children:[(0,t.jsx)(i.Z.Label,{children:"Imagen M\xf3vil"}),(0,t.jsx)(i.Z.Control,{type:"text",placeholder:"URL de la imagen m\xf3vil",value:Z.mobileImg,onChange:e=>k({...Z,mobileImg:e.target.value})})]}),(0,t.jsxs)(i.Z.Group,{className:"nice-form-group",children:[(0,t.jsx)(i.Z.Label,{children:"Enlace"}),(0,t.jsx)(i.Z.Control,{type:"text",placeholder:"URL del enlace",value:Z.link,onChange:e=>k({...Z,link:e.target.value})})]}),(0,t.jsxs)(i.Z.Group,{className:"nice-form-group",children:[(0,t.jsx)(i.Z.Label,{children:"Texto Alternativo"}),(0,t.jsx)(i.Z.Control,{type:"text",placeholder:"Texto alternativo",value:Z.alt,onChange:e=>k({...Z,alt:e.target.value})})]}),(0,t.jsxs)(i.Z.Group,{className:"nice-form-group",children:[(0,t.jsx)(i.Z.Label,{children:"Texto"}),(0,t.jsx)(i.Z.Control,{type:"text",placeholder:"Texto del banner",value:Z.text,onChange:e=>k({...Z,text:e.target.value})})]}),(0,t.jsx)(c.Z,{className:"app-content-headerButton",onClick:handleBannerSave,children:E?"Actualizar Banner":"Agregar Banner"})]}),(0,t.jsxs)("div",{className:"banners-list",children:[(0,t.jsx)("h3",{style:{color:"white"},children:"Banners Existentes"}),b.map(e=>(0,t.jsxs)("div",{className:"banner-item",children:[(0,t.jsx)("img",{src:e.img,alt:e.alt,style:{width:"40%",height:"auto"}}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Z,{className:"app-content-headerButton",onClick:()=>handleEditBanner(e),children:"Editar"}),(0,t.jsx)(c.Z,{className:"app-content-headerButton",onClick:()=>handleDeleteBanner(e.id),children:"Eliminar"})]})]},e.id))]})]})]})]})]})},d=s(9008),u=s.n(d);function AdminPanel(){return(0,o.useRouter)(),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u(),{children:(0,t.jsx)("title",{children:"Panel de Administraci\xf3n"})}),(0,t.jsx)(ShowProducts,{})]})}}},function(e){e.O(0,[662,494,121,495,658,774,888,179],function(){return e(e.s=9858)}),_N_E=e.O()}]);