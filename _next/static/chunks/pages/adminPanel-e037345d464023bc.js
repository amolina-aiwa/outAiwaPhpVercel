(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{9858:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/adminPanel",function(){return s(8299)}])},8299:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return AdminPanel}});var n=s(5893),t=s(7294),r=s(5121),c=s(9478),l=s(5005),i=s(1676),o=s(1163);s(8494);var ShowProducts=()=>{let e=(0,o.useRouter)(),[a,s]=(0,t.useState)(!1),[d,u]=(0,t.useState)(""),[h,p]=(0,t.useState)([]),[m,x]=(0,t.useState)([]),[j,g]=(0,t.useState)("audio"),[w,N]=(0,t.useState)("https://www.aiwaelectronics.com.ar/audio.php"),[v,f]=(0,t.useState)("products"),[b,C]=(0,t.useState)([]),[Z,k]=(0,t.useState)({img:"",mobileImg:"",link:"",alt:"",text:""}),[E,y]=(0,t.useState)(null),P=(0,t.useCallback)(async()=>{try{let e=await r.Z.get(w);p(e.data)}catch(e){console.error("Error fetching ".concat(j,":"),e)}},[w,j]);(0,t.useEffect)(()=>{N("https://www.aiwaelectronics.com.ar/".concat(j,".php"))},[j]),(0,t.useEffect)(()=>{P()},[w,P]),(0,t.useEffect)(()=>{let e=h.filter(e=>e.name.toLowerCase().includes(d.toLowerCase())||e.sku.toLowerCase().includes(d.toLowerCase()));x(e)},[d,h]);let deleteProduct=async e=>{let a=window.confirm("\xbfEst\xe1s seguro de que quieres eliminar este producto?");if(a)try{await r.Z.delete(w,{data:{id:e}}),P()}catch(e){console.error("Error deleting ".concat(j,":"),e)}},goToEditPage=a=>{e.push("/editProduct/".concat(a,"?category=").concat(j))},B=(0,t.useCallback)(async()=>{try{let e=await r.Z.get("https://www.aiwaelectronics.com.ar/mainBanner.php");C(e.data)}catch(e){console.error("Error fetching banners:",e)}},[]);(0,t.useEffect)(()=>{"pageDesign"===v&&B()},[v,B]);let handleBannerSave=async()=>{try{E?await r.Z.put("https://www.aiwaelectronics.com.ar/mainBanner.php",Z):await r.Z.post("https://www.aiwaelectronics.com.ar/mainBanner.php",Z),k({img:"",mobileImg:"",link:"",alt:"",text:""}),y(null),B()}catch(e){console.error("Error saving banner:",e)}},handleEditBanner=e=>{k(e),y(e.id)},handleDeleteBanner=async e=>{let a=window.confirm("\xbfEst\xe1s seguro de que quieres eliminar este banner?");if(a)try{await r.Z.delete("https://www.aiwaelectronics.com.ar/mainBanner.php",{data:{id:e}}),B()}catch(e){console.error("Error deleting banner:",e)}};return(0,n.jsxs)("div",{className:"mt-4 p-5 bg-primary text-white rounded center",children:[a&&(0,n.jsx)(c.Z,{variant:"danger",dismissible:!0,onClose:()=>s(!1),children:"El producto ya existe. Por favor, elija un nombre de producto \xfanico."}),(0,n.jsxs)("div",{className:"app-container",children:[(0,n.jsxs)("div",{className:"sidebar",children:[(0,n.jsxs)("ul",{className:"sidebar-list",children:[(0,n.jsx)("li",{className:"sidebar-list-item ".concat("products"===v?"active":""),onClick:()=>f("products"),children:(0,n.jsx)("a",{href:"#",children:(0,n.jsx)("span",{children:"Productos"})})}),(0,n.jsx)("li",{className:"sidebar-list-item ".concat("pageDesign"===v?"active":""),onClick:()=>f("pageDesign"),children:(0,n.jsx)("a",{href:"#",children:(0,n.jsx)("span",{children:"Dise\xf1o de p\xe1gina"})})}),"products"===v&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("li",{children:(0,n.jsx)(i.Z,{children:(0,n.jsx)(i.Z.Group,{className:"mb-3",children:(0,n.jsx)(i.Z.Control,{className:"form-title",style:{color:"black"},type:"text",placeholder:"Buscar por Nombre o SKU",value:d,onChange:e=>u(e.target.value)})})})}),(0,n.jsx)("li",{children:(0,n.jsx)(i.Z,{children:(0,n.jsxs)(i.Z.Group,{className:"nice-form-group",children:[(0,n.jsx)(i.Z.Label,{children:"Categor\xeda"}),(0,n.jsxs)(i.Z.Control,{as:"select",onChange:e=>g(e.target.value),children:[(0,n.jsx)("option",{value:"audio",children:"Audio"}),(0,n.jsx)("option",{value:"headsets",children:"Headsets"}),(0,n.jsx)("option",{value:"tablets",children:"Tablets"}),(0,n.jsx)("option",{value:"cooks",children:"Cooks"}),(0,n.jsx)("option",{value:"notebooks",children:"Notebooks"}),(0,n.jsx)("option",{value:"discontinuos",children:"Discontinuos"})]})]})})})]})]}),(0,n.jsx)("div",{className:"account-info",children:(0,n.jsx)("button",{className:"account-info-more"})})]}),(0,n.jsxs)("div",{className:"app-content",children:[(0,n.jsx)("div",{className:"app-content-header",children:"products"===v?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("h1",{className:"app-content-headerText",children:["Productos - ",j.charAt(0).toUpperCase()+j.slice(1)]}),(0,n.jsx)("button",{className:"app-content-headerButton",onClick:()=>{e.push("/newProduct")},children:"A\xf1adir Producto"})]}):(0,n.jsx)("h1",{className:"app-content-headerText",children:"Dise\xf1o de P\xe1gina"})}),"products"===v&&(0,n.jsxs)("div",{className:"products-area-wrapper tableView",children:[(0,n.jsxs)("div",{className:"products-header",children:[(0,n.jsx)("div",{className:"product-cell image",children:"Imagen"}),(0,n.jsx)("div",{className:"product-cell status-cell",children:"Sku"}),(0,n.jsx)("div",{className:"product-cell name",children:"Productos"})]}),m.map(e=>{let a="";try{let s=JSON.parse(e.img_url);Array.isArray(s)&&s.length>0&&(a=s[0])}catch(e){console.error("Error parsing image URL:",e)}return(0,n.jsxs)("div",{className:"products-row",children:[(0,n.jsx)("div",{className:"product-cell image",children:a?(0,n.jsx)("img",{src:a,alt:"Product",style:{width:"60px",height:"60px",objectFit:"cover",borderRadius:"5px",backgroundColor:"aqua"}}):(0,n.jsx)("span",{children:"No Image"})}),(0,n.jsxs)("div",{className:"product-cell status-cell",children:[(0,n.jsx)("span",{className:"cell-label",children:"Sku:"}),(0,n.jsx)("span",{className:"status ".concat(e.status?e.status.toLowerCase():""),children:e.sku})]}),(0,n.jsx)("div",{className:"product-cell name",children:e.name}),(0,n.jsxs)("div",{className:"card-footer",children:[(0,n.jsx)(l.Z,{style:{marginRight:"10px"},className:"app-content-headerButton",onClick:()=>goToEditPage(e.id),children:"Editar"}),(0,n.jsx)(l.Z,{className:"app-content-headerButton",onClick:()=>deleteProduct(e.id),children:"Eliminar"})]})]},e.id)})]}),"pageDesign"===v&&(0,n.jsxs)("div",{className:"page-design-panel",children:[(0,n.jsxs)(i.Z,{children:[(0,n.jsxs)(i.Z.Group,{className:"nice-form-group",children:[(0,n.jsx)(i.Z.Label,{children:"Imagen"}),(0,n.jsx)(i.Z.Control,{type:"text",placeholder:"URL de la imagen",value:Z.img,onChange:e=>k({...Z,img:e.target.value})})]}),(0,n.jsxs)(i.Z.Group,{className:"nice-form-group",children:[(0,n.jsx)(i.Z.Label,{children:"Imagen M\xf3vil"}),(0,n.jsx)(i.Z.Control,{type:"text",placeholder:"URL de la imagen m\xf3vil",value:Z.mobileImg,onChange:e=>k({...Z,mobileImg:e.target.value})})]}),(0,n.jsxs)(i.Z.Group,{className:"nice-form-group",children:[(0,n.jsx)(i.Z.Label,{children:"Enlace"}),(0,n.jsx)(i.Z.Control,{type:"text",placeholder:"URL del enlace",value:Z.link,onChange:e=>k({...Z,link:e.target.value})})]}),(0,n.jsx)(l.Z,{className:"app-content-headerButton",onClick:handleBannerSave,children:E?"Actualizar Banner":"Agregar Banner"})]}),(0,n.jsx)("h3",{style:{color:"white"},children:"Banners Existentes"}),(0,n.jsx)("div",{className:"banners-list",children:b.map(e=>(0,n.jsxs)("div",{className:"banner-item",children:[(0,n.jsx)("img",{src:e.img,alt:e.alt}),(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Z,{className:"app-content-headerButton",onClick:()=>handleEditBanner(e),children:"Editar"}),(0,n.jsx)(l.Z,{className:"app-content-headerButton",onClick:()=>handleDeleteBanner(e.id),children:"Eliminar"})]})]},e.id))})]})]})]})]})},d=s(9008),u=s.n(d);function AdminPanel(){return(0,o.useRouter)(),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u(),{children:(0,n.jsx)("title",{children:"Panel de Administraci\xf3n"})}),(0,n.jsx)(ShowProducts,{})]})}}},function(e){e.O(0,[662,494,121,495,478,774,888,179],function(){return e(e.s=9858)}),_N_E=e.O()}]);